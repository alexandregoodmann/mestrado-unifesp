import cv2
from skimage.draw import line
import os
os.system('cls' if os.name == 'nt' else 'clear')

# ---------------------------------------------------------------------------------------
def writeLine(x0, y0, xn, yn, imagem):
    vetor_x, vetor_y = line(int(x0), int(y0), int(xn), int(yn))
    for i in range(0, vetor_x.__len__()):
        x = vetor_x[i]
        y = vetor_y[i]
        imagem[x,y] = 0
# ---------------------------------------------------------------------------------------
def criarImagem(grid):
    print('INFO - criando imagem')
    imagem = cv2.imread('/home/alexandre/projetos/mestrado-unifesp/robotica/projeto_final/grid.png')
    imagem[::] = 255
    for item in grid:
        x0 = int(item[0]*100) + 499
        y0 = int(item[1]*100) + 499
        xn = int(item[2]*100) + 499
        yn = int(item[3]*100) + 499
        if (x0 > 999): x0 = 999
        if (y0 > 999): y0 = 999
        if (xn > 999): xn = 999
        if (yn > 999): yn = 999
        writeLine(x0, y0, xn, yn, imagem)
    cv2.imwrite('/home/alexandre/projetos/mestrado-unifesp/robotica/projeto_final/grid.png', imagem)
    print('INFO - imagem criada')
# ---------------------------------------------------------------------------------------

grid = [[-0.29471200704574585, -1.701204776763916, -0.29471200704574585, -1.701204776763916], [-0.29397499561309814, -1.6907166242599487, 0.1064971371406293, 3.2927179643847495], [-0.28440460562705994, -1.5540953874588013, 0.37003024306097765, 3.402386556141451], [-0.2613919973373413, -1.4110455513000488, 1.059864404803238, 3.410705141987111], [-0.21252955496311188, -1.2622474431991577, 1.4703127902671298, 3.445516343304223], [-0.15686506032943726, -1.112758755683899, 1.120015916038632, 2.092967682094484], [-0.09645846486091614, -0.9651992321014404, 1.1880966416454415, 2.024570399155747], [-0.032291267067193985, -0.8191913962364197, 1.2432295140749083, 1.9688926909441609], [0.035154491662979126, -0.6746030449867249, 1.2891957224457744, 1.9222286193010203], [0.11428306251764297, -0.5138909816741943, 1.332465745833455, 1.877982101276591], [0.18765991926193237, -0.37205082178115845, 1.365473405361867, 1.844136491871582], [0.26337239146232605, -0.23149506747722626, 1.392960063104544, 1.8157187125856473], [0.3511059284210205, -0.0747390016913414, 1.4194463245168745, 1.7880745862226601], [0.43121984601020813, 0.06339052319526672, 1.4396238669718504, 1.7669261366756408], [0.5131864547729492, 0.20042383670806885, 1.4570556311925607, 1.748397649037838], [0.596930742263794, 0.3363896310329437, 1.4723439111811505, 1.7321051028293635], [0.6931642293930054, 0.4880923330783844, 1.4872340344127664, 1.7160297904802362], [0.7804563641548157, 0.6218385696411133, 1.49866916050268, 1.7035647915491405], [0.869344174861908, 0.7545151114463806, 1.508535950324782, 1.692681841831174], [0.9598162174224854, 0.8861340284347534, 1.516979950299415, 1.6831926845062206], [1.0518543720245361, 1.01664137840271, 1.5240655470608118, 1.6751307025824098], [1.1454737186431885, 1.146039605140686, 1.529776377263264, 1.6683941953636063], [1.2406535148620605, 1.2742546796798706, 1.5341800758743265, 1.663028892823443], [1.3403290510177612, 1.4058856964111328, 1.5416785247371687, 1.6539341047445961], [1.361724853515625, 1.4264683723449707, 1.539692052449604, 1.660077543960566], [1.371773362159729, 1.4252907037734985, 1.49533904373017, 1.7055738999102465], [1.3819187879562378, 1.4266893863677979, 1.450191789147382, 1.753696443564286], [1.3915612697601318, 1.4302974939346313, 1.3901768126573841, 1.8174908145691018], [1.4002275466918945, 1.435831904411316, 1.2960984068448609, 1.917342745534132], [1.4083582162857056, 1.4440419673919678, -0.2990153169661365, 4.992104282880767], [1.4099770784378052, 1.459892749786377, -1.5581809082388607, 5.042793835875825], [1.3178406953811646, 1.5515148639678955, -2.4908390776838845, 4.790180733528668], [1.1933197975158691, 1.6525894403457642, -2.8283275986645213, 4.622665272577688], [1.0616908073425293, 1.7452402114868164, -3.1507015251973725, 4.437961709371756], [0.9263002276420593, 1.827863097190857, -0.6042958076986782, 2.6887928485723274], [0.7977566719055176, 1.9101722240447998, -2.2638605219090384, 4.8306800209450245], [0.6886419653892517, 2.0438408851623535, -0.7132308025011052, 4.891052155093645], [0.6347360014915466, 2.1883962154388428, 0.18492573599688927, 4.9244298715454935], [0.6229730248451233, 2.3430416584014893, 0.8512059908443099, 4.94151861175666], [0.6482998728752136, 2.4967520236968994, 1.4156157129321243, 4.9505010319122675], [0.7134621739387512, 2.659973382949829, 2.0088185101047644, 4.9562566993008215], [0.7981312870979309, 2.7920022010803223, 2.5372215065797965, 4.958186505890938], [0.9024510979652405, 2.909576654434204, 3.087362313508818, 4.959943031503812], [1.021916389465332, 3.012176990509033, 3.7053834796028333, 4.963341660615967], [1.1530333757400513, 3.099855661392212, 4.437408825168092, 4.966934298677313], [1.2930032014846802, 3.1730713844299316, 4.927518128079873, 4.781865633364112], [1.4387651681900024, 3.2322447299957275, 4.931280093839931, 4.409172692454628], [1.5842989683151245, 3.2769699096679688, 4.9335833390998225, 4.0914161406287395], [1.7224088907241821, 3.307102680206299, 4.935272757238924, 3.8206520082480013], [1.8518140316009521, 3.325263261795044, 4.9362808580608615, 3.590652180418686], [1.9873234033584595, 3.3342647552490234, 4.936694228238533, 3.3693278961036555], [2.097939968109131, 3.334211826324463, 4.936778634238591, 3.1975121029013165], [2.1987555027008057, 3.3283114433288574, 3.003566134734018, 3.246017168296734], [2.290815591812134, 3.318347692489624, 3.003211233872657, 3.2107526146723817], [2.3749845027923584, 3.3053407669067383, 3.0028382160820892, 3.1824404331210743], [2.4613869190216064, 3.2881033420562744, 3.002426295109957, 3.1576051992109146], [2.5245563983917236, 3.2734789848327637, 3.0019971567568065, 3.1384042693586487], [2.534323215484619, 3.265408992767334, 3.000068376604792, 3.189356690961283], [2.5379626750946045, 3.254782199859619, 4.940988184201018, 3.4255089482016086], [2.5440502166748047, 3.2464711666107178, 4.956761867804666, 3.9410462315968227], [2.5571587085723877, 3.242050886154175, 4.976057377447096, 4.553431429699148], [2.606178045272827, 3.270263195037842, 4.9548778738233015, 4.891920413925405], [2.6552443504333496, 3.303644895553589, 4.6683095789423765, 4.90779585529455], [2.7086527347564697, 3.3461904525756836, 4.426828328098521, 4.938641853214329], [2.7409868240356445, 3.381152629852295, 4.90023370915186, 4.773881104912272], [2.7893879413604736, 3.4154958724975586, 4.919809762018724, 4.050762922958264], [2.8411405086517334, 3.4328293800354004, 4.932717362033596, 3.5587617039122357], [2.891195058822632, 3.433403730392456, 4.935980149440634, 3.6298254880279064], [2.9393630027770996, 3.4368627071380615, 4.937520880129898, 3.769772393041652], [2.984748125076294, 3.4432790279388428, 4.9390292809178655, 3.9096106349584674], [3.0277087688446045, 3.452284097671509, 4.94050814350308, 4.051503263928224], [3.0686471462249756, 3.4637789726257324, 4.942029410619817, 4.197044006300328]]

criarImagem(grid)