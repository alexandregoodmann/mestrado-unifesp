import os
import cv2
import mylib
from copy import copy
from matplotlib import pyplot as plt
import statistics

# Limpar console
os.system('cls' if os.name == 'nt' else 'clear')

# Listar partes da imagem
diretorio = '/home/alexandre/projetos/mestrado-unifesp/pi/artigo/imgs/parts'
for file in os.listdir(diretorio):
    print(file)

imgGray = cv2.imread('/home/alexandre/projetos/mestrado-unifesp/pi/artigo/imgs/seccao_1_BW.jpg', cv2.IMREAD_GRAYSCALE)
#imgGray = cv2.imread('/home/alexandre/projetos/mestrado-unifesp/pi/artigo/imgs/seccao_1_BW_nao_aglomeradas.jpg', cv2.IMREAD_GRAYSCALE)
(thresh, imgBW) = cv2.threshold(imgGray, 128, 255, cv2.THRESH_BINARY | cv2.THRESH_OTSU)

qtd = mylib.contarCelulas(imgBW)
print('Quantidade de Celulas', qtd)

cv2.imshow('Imagem Binaria', imgBW)
cv2.waitKey(0)
cv2.destroyAllWindows()